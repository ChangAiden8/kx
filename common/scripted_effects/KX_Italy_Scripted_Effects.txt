old_italy = {
	KX_italy_tree_swap = yes
		KX_italy_events_fire = yes
		do_italy_stuff = yes
		
}	

SRI_become_not_socialist_like = {
	leave_faction = yes
	separate_peace_all_wars = yes
	remove_ideas = SRI_unpopular_chairman
	remove_ideas = SRI_french_advisors_idea
	add_ideas = closed_economy
	add_ideas = SRI_recover_from_socialism_idea
	SRI = {
		every_unit_leader = {
			limit = { has_trait = SOV_bolshevik_officer }
			set_nationality = FRA
		}
	}
	remove_opinion_modifier = { target = AST modifier = embargo }
	remove_opinion_modifier = { target = AUS modifier = embargo }
	remove_opinion_modifier = { target = CZE modifier = embargo }
	remove_opinion_modifier = { target = HUN modifier = embargo }
	remove_opinion_modifier = { target = CRO modifier = embargo }
	remove_opinion_modifier = { target = CAN modifier = embargo }
	remove_opinion_modifier = { target = GER modifier = embargo }
	remove_opinion_modifier = { target = SAU modifier = embargo }
	remove_opinion_modifier = { target = ITA modifier = embargo }
	remove_opinion_modifier = { target = LIT modifier = embargo }
	remove_opinion_modifier = { target = MAF modifier = embargo }
	remove_opinion_modifier = { target = FRP modifier = embargo }
	remove_opinion_modifier = { target = TUR modifier = embargo }
	remove_opinion_modifier = { target = PRF modifier = embargo }
	remove_opinion_modifier = { target = BUL modifier = embargo }
	remove_opinion_modifier = { target = UKR modifier = embargo }
	remove_opinion_modifier = { target = WHR modifier = embargo }
	remove_opinion_modifier = { target = GBR modifier = embargo }
	remove_opinion_modifier = { target = BAT modifier = embargo }
	remove_opinion_modifier = { target = SWI modifier = embargo }
	add_opinion_modifier = { target = FRA modifier = embargo }
	add_opinion_modifier = { target = ENG modifier = embargo }
	remove_opinion_modifier = { target = FRA modifier = KR_close_allies }
	remove_opinion_modifier = { target = ENG modifier = KR_close_allies }
}

ITA_reset_democratic_party_names_and_leaders = {
	set_party_name = { ideology = social_conservative long_name = ITA_social_conservative_party_long name = ITA_social_conservative_party }
	set_party_name = { ideology = social_liberal long_name = ITA_social_liberal_party_long name = ITA_social_liberal_party }
	set_party_name = { ideology = social_democrat long_name = ITA_social_democrat_party_long name = ITA_social_democrat_party }
	set_party_name = { ideology = radical_socialist long_name = ITA_radical_socialist_party_long name = ITA_radical_socialist_party }
	set_party_name = { 
		ideology = national_populist 
		long_name = ITA_republic_national_populist_party 
		name = ITA_republic_national_populist_party
	}
	create_country_leader = {
		name = "Ivanoe Bonomi"
		picture = "gfx/leaders/ITA/Portrait_ITA_Ivanoe_Bonomi_KX.png"
		expire = "1965.1.1"
		ideology = social_democrat_subtype
	}
	create_country_leader = { # Giovanni Gronchi
		name = "Giovanni Gronchi"
		picture = "gfx/leaders/ITA/Portrait_ITA_Giovanni_Gronchi.png"
		expire = "1965.1.1"
		ideology = social_conservative_subtype
	}
	create_country_leader = {
		name = "Luigi Einaudi"
		picture = "gfx/leaders/ITA/Portrait_ITA_Luigi_Einaudi.png"
		expire = "1965.1.1"
		ideology = social_liberal_subtype
	}	
	create_country_leader = {
		name = "Luigi Einaudi"
		picture = "gfx/leaders/ITA/Portrait_ITA_Luigi_Einaudi.png"
		expire = "1965.1.1"
		ideology = market_liberal_subtype
	}	
	if = {
		limit = {
			date < 1938.3.1
		}
		create_country_leader = {
			name = "Gabriele D'Annunzio"
			picture = "gfx/leaders/ITA/Portrait_ITA_Gabriele_Anunnzio.png"
			expire = "1965.1.1"
			ideology = national_populist_subtype
		}
		else = {
			create_country_leader = {
				name = "Italo Balbo"
				picture = "gfx/leaders/ITA/Portrait_ITA_Italo_Balbo_KX.png"
				expire = "1965.1.1"
				ideology = national_populist_subtype
			}
		}
	}
}

ITA_create_college_of_cardinals = {	
	remove_ideas_with_trait = head_of_government
	add_ideas = ITA_The_College_of_Cardinals_hog_ade
	create_country_leader = {
		name = "College of Cardinals"
		picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
		desc = "POLITICS_COLLEGE_CARDINALS_DESC"
		expire = "1965.1.1"
		ideology = fundementalism_subtype
	}
	create_country_leader = {
		name = "College of Cardinals"
		picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
		desc = "POLITICS_COLLEGE_CARDINALS_DESC"
		expire = "1965.1.1"
		ideology = theocracy_subtype
	}
	create_country_leader = {
		name = "College of Cardinals"
		picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
		desc = "POLITICS_COLLEGE_CARDINALS_DESC"
		expire = "1965.1.1"
		ideology = autdem_christian_democracy_subtype
	}
	create_country_leader = {
		name = "College of Cardinals"
		picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
		desc = "POLITICS_COLLEGE_CARDINALS_DESC"
		expire = "1965.1.1"
		ideology = social_conservative_subtype
	}
	create_country_leader = {
		name = "College of Cardinals"
		picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
		desc = "POLITICS_COLLEGE_CARDINALS_DESC"
		expire = "1965.1.1"
		ideology = market_liberal_subtype
	}
	create_country_leader = {
		name = "College of Cardinals"
		picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
		desc = "POLITICS_COLLEGE_CARDINALS_DESC"
		expire = "1965.1.1"
		ideology = social_liberal_subtype
	}
	create_country_leader = {
		name = "College of Cardinals"
		picture = "gfx/leaders/PAP/Portrait_Papal_State_College_of_Cardinals.png"
		desc = "POLITICS_COLLEGE_CARDINALS_DESC"
		expire = "1965.1.1"
		ideology = social_democrat_subtype
	}
}

ITA_create_Pius_XII = {
	custom_effect_tooltip = ITA_Pius_XII_will_become_pope
	hidden_effect = {
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = fundementalism_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = autdem_christian_democracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = market_liberal_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Pius XII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
			desc = "POLITICS_PIUS_XII_DESC"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
			traits = { ITA_the_mfing_pope} 
		}
		if = {
			limit = {
				OR = {
					tag = SRI
				}
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = socdem_fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
			create_country_leader = {
				name = "Pius XII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Pius_XII.png"
				desc = "POLITICS_PIUS_XII_DESC"
				expire = "1965.1.1"
				ideology = syn_fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
		}
		set_global_flag = Pope_Pius_XII
	}
}

ITA_create_Stephen_X = {
	custom_effect_tooltip = ITA_Stephen_X_will_become_pope
	hidden_effect = {
		create_country_leader = {
			name = "Stephen X"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
			desc = "POLITICS_STEPHEN_X_DESC"
			expire = "1965.1.1"
			ideology = fundementalism_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Stephen X"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
			desc = "POLITICS_STEPHEN_X_DESC"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Stephen X"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
			desc = "POLITICS_STEPHEN_X_DESC"
			expire = "1965.1.1"
			ideology = autdem_christian_democracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Stephen X"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
			desc = "POLITICS_STEPHEN_X_DESC"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Stephen X"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
			desc = "POLITICS_STEPHEN_X_DESC"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Stephen X"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
			desc = "POLITICS_STEPHEN_X_DESC"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
			traits = { ITA_the_mfing_pope} 
		}
		if = {
			limit = {
				OR = {
					tag = SRI
				}
			}
			create_country_leader = {
				name = "Stephen X"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
				desc = "POLITICS_STEPHEN_X_DESC"
				expire = "1965.1.1"
				ideology = socdem_fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
			create_country_leader = {
				name = "Stephen X"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
				desc = "POLITICS_STEPHEN_X_DESC"
				expire = "1965.1.1"
				ideology = fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
			create_country_leader = {
				name = "Stephen X"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
				desc = "POLITICS_STEPHEN_X_DESC"
				expire = "1965.1.1"
				ideology = syn_fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
		}
		set_global_flag = Pope_Stephen_X
	}
}

ITA_create_John_XXIII = {
	custom_effect_tooltip = ITA_John_XXIII_will_become_pope
	hidden_effect = {
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = fundementalism_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = autdem_christian_democracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = market_liberal_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "John XXIII"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
			desc = "POLITICS_JOHN_XXIII_DESC"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
			traits = { ITA_the_mfing_pope} 
		}
		if = {
			limit = {
				OR = {
					tag = SRI
				}
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = socdem_fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
			create_country_leader = {
				name = "John XXIII"
				picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
				desc = "POLITICS_JOHN_XXIII_DESC"
				expire = "1965.1.1"
				ideology = syn_fascism_subtype
				traits = { ITA_the_mfing_pope} 
			}
		}
		set_global_flag = Pope_John_XXIII
	}
}

ITA_create_Julius_IV = {
	custom_effect_tooltip = ITA_Julius_IV_will_become_pope
	hidden_effect = {
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = fundementalism_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = theocracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = autdem_christian_democracy_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = market_liberal_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
			traits = { ITA_the_mfing_pope} 
		}
		set_global_flag = Pope_Julius_IV
		set_party_name = { 
			ideology = national_populist 
			long_name = ITA_national_populist_party_long 
			name = ITA_national_populist_party
		}
		if = {
			limit = {
				OR = {
					tag = SIC
				}
			}
			create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = fascism_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = socdem_fascism_subtype
			traits = { ITA_the_mfing_pope} 
		}
		create_country_leader = {
			name = "Julius IV"
			picture = "gfx/leaders/PAP/Portrait_Papal_State_Julius.png"
			desc = "POLITICS_JULIUS_IV_DESC"
			expire = "1965.1.1"
			ideology = syn_fascism_subtype
			traits = { ITA_the_mfing_pope} 
		}
		}
	}
}

create_pope = {
	if = {
		limit = { has_global_flag = Pope_Julius_IV }
		ITA = {
			ITA_create_Julius_IV = yes
		}
	}
	else_if = {
		limit = { has_global_flag = Pope_John_XXIII }
		ITA = {
			ITA_create_John_XXIII = yes
		}
	}
	else_if = {
		limit = { has_global_flag = Pope_Stephen_X }
		ITA = {
			ITA_create_Stephen_X = yes
		}
	}
	else_if = {
		limit = { has_global_flag = Pope_Pius_XII }
		ITA = {
			ITA_create_Pius_XII = yes
		}
	}
}

SIC_create_pope = {
	if = {
		limit = { has_global_flag = Pope_Julius_IV }
		SIC = {
			ITA_create_Julius_IV = yes
		}
	}
	else_if = {
		limit = { has_global_flag = Pope_John_XXIII }
		SIC = {
			ITA_create_John_XXIII = yes
		}
	}
	else_if = {
		limit = { has_global_flag = Pope_Stephen_X }
		SIC = {
			ITA_create_Stephen_X = yes
		}
	}
	else_if = {
		limit = { has_global_flag = Pope_Pius_XII }
		SIC = {
			ITA_create_Pius_XII = yes
		}
	}
}

fuck_the_shit_out_of_italy = {
	ITA = {
		remove_state_core = 160
		remove_state_core = 759
		remove_state_core = 159
	}
	SRI = {
		remove_state_core = 1003
		remove_state_core = 1004
		remove_state_core = 1005
		remove_state_core = 1149
		remove_state_core = 157
		remove_state_core = 158
		#remove_state_core = 159
		remove_state_core = 161
		remove_state_core = 162
		remove_state_core = 735
		remove_state_core = 764
		remove_state_core = 838
	}
	SIC = {
		transfer_state = 1006
		transfer_state = 115
		transfer_state = 117
		transfer_state = 156
		transfer_state = 742
		transfer_state = 837	
		
		add_state_core = 1006
		add_state_core = 115
		add_state_core = 117
		add_state_core = 156
		add_state_core = 742
		add_state_core = 837
	}
	PAP = {
		transfer_state = 2	
		transfer_state = 1149	
		transfer_state = 1005	
		transfer_state = 157	
		transfer_state = 161	
		transfer_state = 764	
		
		add_state_core = 2
		add_state_core = 1149
		add_state_core = 1005
		add_state_core = 157
		add_state_core = 161
		add_state_core = 764
	}	
	TUS = {
		transfer_state = 162	
		
		add_state_core = 162
	}
	VNC = {
		transfer_state = 759	
		transfer_state = 160	
		
		add_state_core = 759	
		add_state_core = 160	
	}
	SRD = {
		add_state_core = 114
		add_state_core = 1002
		add_state_core = 158
		add_state_core = 838
		add_state_core = 1003
		
		transfer_state = 114
		transfer_state = 1002
		transfer_state = 158
		transfer_state = 838
		transfer_state = 1003
	}
	every_state = {
		limit = {
			state = 159
		}
		if = {
			limit = { is_claimed_by = LOM }
			remove_claim_by = LOM
		}
		if = {
			limit = { NOT = { is_core_of = LOM } }
			add_core_of = LOM
		}
		LOM = { transfer_state = PREV }
	}
	EMI = {
		add_state_core = 1004
	}
	FRA = {
		add_state_core = 735
		add_state_core = 762
		transfer_state = 735
		transfer_state = 762
	}
	EMI = { transfer_state = 1004 }
	set_global_flag = KX_ITA_COMPLETLEY_FUCKED
	159 = {
		set_demilitarized_zone = no
		}
	}


		